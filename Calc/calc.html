<!DOCTYPE html>
<html lang="es">
<!--
<html lang="es" {
    box-sizing: border-box;
    width: 250px;
    border: 10px;
    padding: 10px;
}
*, *:before, *:after {
  box-sizing: inherit;
}>
-->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Calculadora dosis</title>
  <!-- Required meta tags -->
  
  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<style>
    #ml-gr,#kilos,#ml-l,#mg-km
    {
  width: 4em;
}
</style>
</head>



<body>
<div class="container-fluid bg-primary">
        <div class="row">
            <div class="col-md text-center">
                 <header class="py-3">
                     <!-- place navbar here -->
                     <h2 class="text-center text-warning"><b>CONVERSOR <br>de MILIGRAMOS <br>a MICROGRAMOS KILO/MINUTO</b></h2>
                     <!--<h4><br>SEPARAR LOS DECIMALES CON UN PUNTO!!</h4>-->
                 </header>
        <br><br>    

        <form>
            <label class="text-white">MILIGRAMOS DEL FÁRMACO:</label> 
            <input id="ml-gr" inputmode="decimal" type="number" maxlength="3" name="ml-gr" pattern="[0-9]{0,4}" required autofocus ><br><br>
            <label class="text-white">KILOS PACIENTE:</label>
            <input id="kilos" inputmode="decimal" type="number" maxlength="3" name="kilos" pattern="[0-9]{0,4}" required ><br><br>
            <label class="text-white">MILILITROS SUERO:</label>
            <input id="ml-l" inputmode="decimal" type="number" maxlength="3" name="ml-l" pattern="[0-9]{0,4}" required ><br><br>
            <label class="text-white">MICROGRAMOS POR KILO/MINUTO:</label>
            <input id="mg-km" inputmode="decimal" type="number" maxlength="4" name="mg-km" pattern="[0-9]{0,4}" required ><br><br>
        </form>

            <script>
            
            function calc(){
                   
                    var mlgr = document.getElementById("ml-gr").valueAsNumber;
                    var kilos = document.getElementById("kilos").valueAsNumber;
                    var mll = document.getElementById("ml-l").valueAsNumber;
                    var mgkm = document.getElementById("mg-km").valueAsNumber;

                    var mlgr2 = mlgr.toString();
                    var kilos2 = kilos.toString();
                    var mll2 = mll.toString();
                    var mgkm2 = mgkm.toString();

                    console.log (mlgr2.length+" "+kilos2.length+" "+mll2.length+" "+mgkm2.length);

                    //document.getElementById("demo2").innerHTML = "Valor 1: "+mlgr+ ",  valor 2: "+kilos+" , valor 3: "+mll+" ,valor 4: "+mgkm;

                    var mgkgmin = (mgkm * kilos * 60) /1000;
                    var solucion = (mll * mgkgmin) /mlgr;

                    var solredondeada = solucion.toFixed(2);

                    //*** PROBAR CON UNDEFINED PARA LOS CAMPOS VACÍOS ***
 
                    ///if ((mlgr2.length===3) || (kilos2.length===3) || (mll2.length===3) || (mgkm2.length===3))
                    if ((isNaN(mlgr2)) && (isNaN(kilos2)) && (isNaN(mll2)) && (isNaN(mgkm2)))
                      {
                        //Si todos los campos están en blanco recarga, sino deja seguir rellenando
                        alert ("Todos los campos están en blanco!!");
                        location.reload();
                      } else  if ((isNaN(mlgr2)) || (isNaN(kilos2)) || (isNaN(mll2)) || (isNaN(mgkm2)))
                      {
                        alert ("No puede haber campos en blanco");
                      
                    } else {

                        document.getElementById("demo").innerHTML = "La solución es "+solredondeada+ " mililitros hora";

                        //document.getElementById("demo2").innerHTML = "Valor 1: "+mlgr+ ",  valor 2: "+kilos+" , valor 3: "+mll+" ,valor 4: "+mgkm;
                        
                        document.getElementById("demo3").innerHTML = '<button onclick=location.reload()>NUEVO CÁLCULO</button>';

                    }
            }

            </script>

            <br>
            
            <button onclick="calc()">CALCULAR</button>
            <br><br>

            <h2 id="demo" class="text-center text-warning"></h2> 
            <p id="demo2"></p>

            <p id="demo3" class="text-center text-warning"></p>

        
            <br><br>
                     </div>
        </div>
    </div>
    
</body>
</html>
